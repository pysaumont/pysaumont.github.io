<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>What is Functional Programming? - Functional Programming in Java</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="What is Functional Programming?">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="What is Functional Programming?">
    <meta property="og:description" content="">

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="//pysaumont.github.io/themes/uno/assets/css/uno.css?v=1.0.0" />

    <link rel="canonical" href="https://pysaumont.github.io/2016/04/27/What-is-Functional-Programming.html" />
    
    <meta property="og:site_name" content="Functional Programming in Java" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="What is Functional Programming?" />
    <meta property="og:description" content="Being the author of Functional Programming in Java, I am often asked to define as concisely as possible what are the differences between functional programming and imperative (a.k.a. “traditional”) programming. It is difficult to simply give a list..." />
    <meta property="og:url" content="https://pysaumont.github.io/2016/04/27/What-is-Functional-Programming.html" />
    <meta property="article:published_time" content="2016-04-26T22:00:00.000Z" />
    <meta property="article:modified_time" content="2016-04-28T09:54:54.347Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="What is Functional Programming?" />
    <meta name="twitter:description" content="Being the author of Functional Programming in Java, I am often asked to define as concisely as possible what are the differences between functional programming and imperative (a.k.a. “traditional”) programming. It is difficult to simply give a list..." />
    <meta name="twitter:url" content="https://pysaumont.github.io/2016/04/27/What-is-Functional-Programming.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Functional Programming in Java",
    "author": {
        "@type": "Person",
        "name": "Pierre-Yves Saumont",
        "image": "https://avatars.githubusercontent.com/u/10126283?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "What is Functional Programming?",
    "url": "https://pysaumont.github.io/2016/04/27/What-is-Functional-Programming.html",
    "datePublished": "2016-04-26T22:00:00.000Z",
    "dateModified": "2016-04-28T09:54:54.347Z",
    "description": "Being the author of Functional Programming in Java, I am often asked to define as concisely as possible what are the differences between functional programming and imperative (a.k.a. “traditional”) programming. It is difficult to simply give a list..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Functional Programming in Java" href="https://pysaumont.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

</head>
<body class="post-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " >
      <div class="panel-main">
    
        <div class="panel-main__inner panel-inverted">
        <div class="panel-main__content">
    
            <h1 class="panel-cover__title panel-title"><a href="https://pysaumont.github.io" title="link to homepage for Functional Programming in Java">Functional Programming in Java</a></h1>
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description">This is the blog associated with my book &quot;Functional Programming in Java&quot;, published by Manning (https://manning.com/books/functional-programming-in-java). 
    
    Functional Programming is not tied to any &quot;functional&quot; language. It is a way of thinking and a paradigm for writing programs. Some languages are more &quot;functional friendly&quot;, and if you intend to write program using the functional paradigm,  you should probably pick one of them... if you can. This blog (and the associated book) is dedicated to those who can&#x27;t.</p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />
    
            <div class="navigation-wrapper">
    
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="https://pysaumont.github.io/#blog" title="link to Functional Programming in Java blog" class="blog-button">Blog</a></li>
                </ul>
              </nav>
    
              
              
              <nav class="cover-navigation navigation--social">
                <ul class="navigation">
              
              
              
              
                  <!-- Github -->
                  <li class="navigation__item">
                    <a href="http://github.com/fpinjava/fpinjava" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
              
              
                  <!-- Email -->
                  <li class="navigation__item">
                    <a href="mailto:fpinjava@fpinjava.com" title="Email fpinjava@fpinjava.com">
                      <i class='icon icon-mail'></i>
                      <span class="label">Email</span>
                    </a>
                  </li>
              
                </ul>
              </nav>
              
    
            </div>
    
          </div>
    
        </div>
    
        <div class="panel-cover--overlay"></div>
      </div>
    </header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="27 Apr 2016" class="post-meta__date date">27 Apr 2016</time> &#8226; <span class="post-meta__tags tags"></span>
        <span class="post-meta__author author"><img src="https://avatars.githubusercontent.com/u/10126283?v=3" alt="profile image for Pierre-Yves Saumont" class="avatar post-meta__avatar" /> by Pierre-Yves Saumont</span>
      </div>
      <h1 class="post-title">What is Functional Programming?</h1>
    </header>

    <section class="post">
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Being the author of <a href="https://www.manning.com/books/functional-programming-in-java">Functional Programming in Java</a>, I am often asked to define as concisely as possible what are the differences between functional programming and imperative (a.k.a. “traditional”) programming. It is difficult to simply give a list of differences because functional programming starts with a different way of thinking. The main difference I generally stress is:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>In imperative programming, we write a program which, when executed, gives the solution to the problem we have to solve. In Functional programming, the program is the solution. The main consequence is that you don&#8217;t have to run the program to know it if is correct or not.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>I also use to emphasize something that might not be an essential difference but is fundamental for most functional programmers:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Functional programming is primarily about defining abstractions. As a consequence, most functional programmers, when given a problem to solve, will start by looking for things that might be abstracted. They will then code these abstractions. Some will often not even care to solve the original problem given how trivial it becomes once every possible abstraction have been extracted and coded separately.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>One of the most famous examples is the abstraction of all control structures. Functional Programmers do not use <code>for</code> and <code>while</code> loops as their imperative fellows do. Loops are abstracted into functions, so, as a functional programmer, you will probably never see one.</p>
</div>
<div class="paragraph">
<p>But the easiest way to explain things (at least to imperative programmers) is to give an example. I recently had to make such an example to explain how Functional Programming could be used to solve a real business problem.</p>
</div>
<div class="paragraph">
<p>The problem is to place words on lines, never exceeding the maximum line length. Spaces between words on a same line are counted for one character. We start with a <code>List&lt;String&gt;</code> (a list of words) and should end with a <code>List&lt;List&lt;String&gt;&gt;</code> (a list of lines).</p>
</div>
<div class="paragraph">
<p>This problem is easy to solve with a very simple imperative program, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public static void main(String... args) {

  int maxLineLength = 20;
  List&lt;String&gt; words = Arrays.asList("Once", "upon", "a", "time", "there", "was", "a", "prince", "who", "lived", "in", "a", "magnificent", "castle");
  List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();
  List&lt;String&gt; currentLine = new ArrayList&lt;&gt;();

  for(String word : words) {
    if (length(currentLine) + word.length() &lt;= maxLineLength) {
      currentLine.add(word);
    } else {
      lines.add(currentLine);
      currentLine = new ArrayList&lt;&gt;();
      currentLine.add(word);
    }
  }
  if (! currentLine.isEmpty()) {
    lines.add(currentLine);
  }
  for(List&lt;String&gt; line : lines) {
    System.out.println(line);
  }
}

public static int length(List&lt;String&gt; line) {
  int length = 0;
  for (String word : line) {
    length += word.length() + 1;
  }
  return length;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_functional_implementation">First functional implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>However, looking at this program with a functional mind shows it has a main drawback: it is not as generic as it could be. It takes a list of strings as its input and produces a list of list of strings as its output. It does this well, but it can only do this although most of the work could be fully generic, and thus abstracted for later reuse.</p>
</div>
<div class="paragraph">
<p>Looking at it with a more generic point of view, here is what this program does: It takes a list of objects and returns a list of list of objects, grouping these objects according to a criteria represented by a condition that should be respected. The condition is that a reduced value of each list, obtained with  a reduction function and an identity object, should satisfy a given predicate. Heere is how the generic elements map to the specific elements of the problem:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The list of objects is a list of words. (Although represented by a comma separated string, it is actually a list.)</p>
</li>
<li>
<p>The return value is a list of lines (although represented by a list of comma separated strings).</p>
</li>
<li>
<p>The reduction function is the sum of the length of the strings in a list of strings, plus the number of spaces, which is the number of elements in the list minus 1.</p>
</li>
<li>
<p>The identity (imperative programmers will see this as the starting value for computing the result) is an empty list of list of strings.</p>
</li>
<li>
<p>The predicate takes the reduced value, add the length of the next word + 1 for the space, and returns <code>true</code> if it results in no more than the given max length of a line.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In practice, this could be a way to typeset words in lines of a given maximum length.</p>
</div>
<div class="paragraph">
<p>A functional programmer, looking at all these abstractions, would probably implement them in a generic form. That way, if she was to solve this problem again with other types, she could just apply the given function. Such a functional implementation might seem harder to write and/or to understand, although only for imperative programmers. But it is easier to test, much much safer to maintain and evolve, and reusable. It might also be slower, but as long as it is fast enough, we don&#8217;t care. And anyway, to know if it is fast enough, we must implement it. Implementing with performance in mind would be premature optimization. It is much better to implement for optimal architecture, and to optimize only if needed when the structure is frozen.</p>
</div>
<div class="paragraph">
<p>First, lets start with the types. For input, we can use a <code>List&lt;T&gt;</code>. If we want to start from a comma delimited string, we will just have to convert it to a <code>List&lt;String&gt;</code>, which is both trivial and problem specific. We however need a type for output. Defining our own type will allow us to write functional methods, for example for adding elements, making this type much easier to use in functions. The standard <code>add</code> method on <code>List</code>, for example, is not functional because it does not return the modified list. The consequence is that it can&#8217;t be used when a function is expected. Incidentally, it should not even return the modified list, but a new list with the added element. At this time, I don&#8217;t know how to call this type, so I&#8217;ll simply call it <code>Output</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public static class Output&lt;T, U&gt; {

  private final List&lt;List&lt;T&gt;&gt; values;
  private final Function&lt;Output&lt;T, U&gt;, U&gt; reduce;

  public Output(Function&lt;Output&lt;T, U&gt;, U&gt; reduce) {
    this.values = new ArrayList&lt;&gt;();
    this.reduce = reduce;
  }

  public Output(List&lt;List&lt;T&gt;&gt; values, Function&lt;Output&lt;T, U&gt;, U&gt; reduce) {
    this.values = new ArrayList&lt;&gt;(values);
    this.reduce = reduce;
  }

  public List&lt;List&lt;T&gt;&gt; values() {
    return values;
  }

  public List&lt;T&gt; last() {
    return values.get(values.size() - 1);
  }

  public Output&lt;T, U&gt; addToLast(T t) {
    Output&lt;T, U&gt; result = values.isEmpty()
      ? new Output&lt;&gt;(new ArrayList&lt;&gt;(), this.reduce)
      : new Output&lt;&gt;(values, this.reduce);
    result.last().add(t);
    return result;
  }

  public Output&lt;T, U&gt; addToNew(T t) {
    values.add(new ArrayList&lt;&gt;());
    return addToLast(t);
  }

  public boolean isEmpty() {
    return values.isEmpty();
  }

  public U reduce() {
    return reduce.apply(this);
  }

  public static &lt;T, U&gt; U reduceNoParallel(U identity, BiFunction&lt;U, T, U&gt; f, List&lt;T&gt; list) {
    return list.stream().reduce(identity, f, (a, b) -&gt; a);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, it contains a <code>List&lt;List&lt;T&gt;</code>, which will be our result. But it also contains a function from <code>Output&lt;T, U&gt;</code> to <code>U</code>. This is the function that is used to reduce an element  of type <code>List&lt;T&gt;</code> to a single value of type <code>U</code>. Note however that this function takes an <code>Output&lt;T, U&gt;</code> as its argument (instead of a <code>List&lt;T&gt;</code>) and applies the reduction to the last list in the <code>List&lt;List&lt;T&gt;&gt;</code> member. The methods <code>addToNew</code> and <code>addToLast</code> perform the addition of an element while taking care of defensive copy and returning the result. This would not be necessary if we where using functional immutable data structures which Java has not (but you can find how to create them in my book, <a href="https://www.manning.com/books/functional-programming-in-java">Functional Programming in Java</a>, or you can use one of the available functional Java libraries.</p>
</div>
<div class="paragraph">
<p>To simplify use, I added the <code>reduceNoParallel</code> helper method taking care of stream reduction since parallelization is not wanted (nor possible!). The “combiner” third argument, as Java 8 calls it, is a <code>BinaryOperator</code> used to aggregate the results returned by parallel threads when automatic parallelization is used. We can&#8217;t use parallelization in this case, but <code>Stream</code> unfortunately does not include a <code>reduce</code> method without this <code>BinaryOperator</code>. This would throw an exception if parallelization was used, but ther is no risk since it is encapsulated in our <code>reduceNoParallel</code> method. This method is <code>static</code> and could be put anywhere, but since it is generic, I put it in the <code>Output</code> class.</p>
</div>
<div class="paragraph">
<p>To use this class, we must first define the reducing function that we will be used to instantiate an <code>Output</code>: I called this function <code>lengthSum</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Function&lt;Output&lt;String, Integer&gt;, Integer&gt; lengthSum = output -&gt; output.last().stream().reduce(0, (a, b) -&gt; a + b.length(), (x, y) -&gt; x + y);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The identity element will be defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">new Output&lt;&gt;(lengthSum);</code></pre>
</div>
</div>
<div class="paragraph">
<p>But we will not share it, as it is mutable. We will create a new one each time we need one.</p>
</div>
<div class="paragraph">
<p>Now, we can define our main function (the core of our program!):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">BiFunction&lt;Output&lt;String, Integer&gt;, String, Output&lt;String, Integer&gt;&gt; f = (output, string) -&gt; output.isEmpty() || output.reduce() + string.length() &gt; MAX_LENGTH
    ? output.addToNew(string)
    : output.addToLast(string);</code></pre>
</div>
</div>
<div class="paragraph">
<p>With these two elements, we can solve our business problem (givent that we give a value of 20 to <code>MAX_LENGTH</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;String&gt; words = Arrays.asList("Once", "upon", "a", "time", "there", "was", "a", "prince","who", "lived", "in", "a", "magnificent", "castle");
Output.reduceNoParallel(new Output&lt;&gt;(lengthSum), f, words).values().stream().forEach(System.out::println);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This prints:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Once, upon, a, time]
[there, was, a, prince]
[who, lived, in, a]
[magnificent, castle]</pre>
</div>
</div>
<div class="paragraph">
<p>This implementation fully functional, using only pure functions and never sharing mutable state, but it is also fully generic and may be used as is to solve many other similar problems based on different types.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pushing_abstraction_to_the_limit">Pushing abstraction to the limit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This example works fine, but we may push abstraction much further, reducing the client code to the simplest expression. What we need to do is abstracting again the client code in order to create a specific type for strings. We may also push abstraction in the generic part. This method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">BiFunction&lt;Output&lt;String, Integer&gt;, String, Output&lt;String, Integer&gt;&gt; f = (output, string) -&gt; output.isEmpty() || output.reduce() + string.length() &gt; MAX_LENGTH
    ? output.addToNew(string)
    : output.addToLast(string);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Could be abstracted into:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public static &lt;T, U&gt; Function&lt;List&lt;T&gt;, List&lt;List&lt;T&gt;&gt;&gt; group(U identity, BiFunction&lt;U, T, U&gt; f, BiFunction&lt;U, T, Boolean&gt; p) {
  return list -&gt; group(identity, f, p, list);
}

public static &lt;T, U&gt; List&lt;List&lt;T&gt;&gt; group(U identity, BiFunction&lt;U, T, U&gt; f, BiFunction&lt;U, T, Boolean&gt; p, List&lt;T&gt; list) {
  Function&lt;Grouper&lt;T, U&gt;, U&gt; g = output -&gt; reduceNoParallel(identity, f, output.last());
  BiFunction&lt;Grouper&lt;T, U&gt;, T, Grouper&lt;T, U&gt;&gt; h = (output, t) -&gt; output.isEmpty() || p.apply(output.reduce(), t)
      ? output.addToNew(t)
      : output.addToLast(t);
  return reduceNoParallel(new Grouper&lt;&gt;(g), h, list).values();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we could call the <code>group</code> method with the following parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">private final BiFunction&lt;Integer, String, Integer&gt; f = (a, b) -&gt; a + b.length();

private final BiFunction&lt;Integer, String, Boolean&gt; p;

public Function&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; group() {
  return Grouper.group(0, f, p);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first two <code>group</code> methods may go into the <code>Output</code> class, which for the occasion will be renamed <code>Grouper</code>, since it is a generic class used for grouping anything.</p>
</div>
<div class="paragraph">
<p>The <code>f</code> function, the <code>p</code> predicate and the third <code>group()</code> method will go in a new <code>String</code> specific class that will be called <code>StringGrouper</code>. Here is the complete generic <code>Grouper</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class Grouper&lt;T, U&gt; {

  private final List&lt;List&lt;T&gt;&gt; values;
  private final Function&lt;Grouper&lt;T, U&gt;, U&gt; reduce;

  public Grouper(Function&lt;Grouper&lt;T, U&gt;, U&gt; reduce) {
    this.values = new ArrayList&lt;&gt;();
    this.reduce = reduce;
  }

  public Grouper(List&lt;List&lt;T&gt;&gt; values, Function&lt;Grouper&lt;T, U&gt;, U&gt; reduce) {
    this.values = new ArrayList&lt;&gt;(values);
    this.reduce = reduce;
  }

  public List&lt;List&lt;T&gt;&gt; values() {
    return values;
  }

  public List&lt;T&gt; last() {
    return values.get(values.size() - 1);
  }

  public Grouper&lt;T, U&gt; addToLast(T t) {
    Grouper&lt;T, U&gt; result = values.isEmpty()
        ? new Grouper&lt;&gt;(new ArrayList&lt;&gt;(), this.reduce)
        : new Grouper&lt;&gt;(values, this.reduce);
    result.last().add(t);
    return result;
  }

  public Grouper&lt;T, U&gt; addToNew(T t) {
    values.add(new ArrayList&lt;&gt;());
    return addToLast(t);
  }

  public boolean isEmpty() {
    return values.isEmpty();
  }

  public U reduce() {
    return reduce.apply(this);
  }

  public static &lt;T, U&gt; U reduceNoParallel(U identity, BiFunction&lt;U, T, U&gt; f, List&lt;T&gt; list) {
    return list.stream().reduce(identity, f, (a, b) -&gt; {throw new IllegalStateException("Parallelization is forbidden.");});
  }

  public static &lt;T, U&gt; Function&lt;List&lt;T&gt;, List&lt;List&lt;T&gt;&gt;&gt; group(U identity, BiFunction&lt;U, T, U&gt; f, BiPredicate&lt;U, T&gt; p) {
    return list -&gt; group(identity, f, p, list);
  }

  public static &lt;T, U&gt; List&lt;List&lt;T&gt;&gt; group(U identity, BiFunction&lt;U, T, U&gt; f, BiPredicate&lt;U, T&gt; p, List&lt;T&gt; list) {
    Function&lt;Grouper&lt;T, U&gt;, U&gt; g = output -&gt; reduceNoParallel(identity, f, output.last());
    BiFunction&lt;Grouper&lt;T, U&gt;, T, Grouper&lt;T, U&gt;&gt; h = (output, t) -&gt; output.isEmpty() || p.test(output.reduce(), t)
        ? output.addToNew(t)
        : output.addToLast(t);
    return reduceNoParallel(new Grouper&lt;&gt;(g), h, list).values();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And here is the specific <code>StringGrouper</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class StringGrouper {

  private final BiFunction&lt;Integer, String, Integer&gt; f = (a, b) -&gt; a + b.length();

  private final BiPredicate&lt;Integer, String&gt; p;

  public Function&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; group() {
    return Grouper.group(0, f, p);
  }

  public StringGrouper(int length) {
    p = (i, s) -&gt; i + s.length() &gt; length;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>StringGrouper.group()</code> method returns a partially applied function. The <code>identity</code>, <code>f</code> and <code>p</code> parameters have been applied, leaving us with a function from <code>List&lt;String&gt;</code> to <code>List&lt;List&lt;String&gt;&gt;</code>. This makes sense, since we will probably have to process many lists with the same configuration.</p>
</div>
<div class="paragraph">
<p>Now, the client code is awfully simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class Client {

  public static void main(String...args) {

    StringGrouper grouper = new StringGrouper(20);

    List&lt;String&gt; words = Arrays.asList("Once", "upon", "a", "time", "there", "was", "a", "prince","who", "lived", "in", "a", "magnificent", "castle");

    grouper.group().apply(words).forEach(System.out::println);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the grouping function (returned by <code>grouper.group()</code>) may be applied to any number of lists of strings, as long as the maximum line length remains the same.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Writing the <code>Grouper</code> class may seem intimidating, but this is "simply" Java 8. No tricks. It would be much simpler with a good functional library as the one I describe in my book <a href="https://www.manning.com/books/functional-programming-in-java">Functional Programming in Java</a>, to be published in July 2016 by Manning, and already available in Manning Early Access Program (MEAP). I also explain all the functional techniques that are put to work and can as well be used with standard Java 8 functional constructs (<code>Function</code>, <code>Stream</code>, <code>Optional</code>&#8230;&#8203;)</p>
</div>
</div>
</div>
    </section>

  </article>

  
  <section class="post-comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'fpinjava'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>
  



            <footer class="footer">
                <span class="footer__copyright">&copy; 2016. All rights reserved.</span>
                <span class="footer__copyright"><a href="http://uno.daleanthony.com" title="link to page for Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="link to website for Dale-Anthony">Dale-Anthony</a></span>
                <span class="footer__copyright">Proudly published with <a href="http://hubpress.io" title="link to Hubpress website">Hubpress</a></span>
            </footer>
        </div>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//pysaumont.github.io/themes/uno/assets/js/main.js?v=1.0.0"></script>
    

</body>
</html>
